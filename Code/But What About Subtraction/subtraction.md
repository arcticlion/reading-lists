如何实现减法
============

继电器连接到一起也可以实现减法。加法和减法在某些方面可以相互补充，但机制又不同。加法是进位机制，而进发是借位机制——一种与加法存在本质区别的麻烦机制。故可以大体上用加法实现减法，但细节上又有些不同。

我么打算用一个小技巧让减法不涉及借位。

### 实现减法的算法

为了便于表达，将进行减法的两个数分别用于被减数（minuend)和减数（subtrahend）表示。从被减数中减去减数，得到的结果叫做差（difference）。



为了避免借位，首先从999减去减数。



这叫对9求补数。这样的好处是无论减数是多少，计算对9的补数都不需要借位。

计算出减数对9的补数后，将补数与原来的被减数相加。



最后再将结果加1，并减去1000.



到此就得到差，而且没有用到错位。

我们用两个减法和两个加法来替代一个减法，而这个过程中避免了繁琐的错位。

#### 减数大于被减数的情况

要解决这个问题而不使用借位的话， 就要采用与之前稍微不同的方法。首先要像前面一样，用999减去减数，计算出对9的补数：



把该数对9的补数与被减数相加：



由于之前已经加了999，这里再减去999：



到这里，意识到这个问题的结果是个负数，因此我们需要将减数与被减数交换。这里没有用到错误，结果也与我们期望相同：



同样的技巧可以用于二进制数中，让我们来看看如何操作。

问题变为：



第一步，用11111111减去减数：



我们发现在对1求补数的时候，只需将原来的二进制数中的1变为0，将0变为1即可。因此对1求补数有时也称为相反数（negation）或反码（inverse）。这里你可能会想到第11章的反向器，它的作用就是将0变为1，将1变为0.

第二步，将减数对1的补数与被减数相加。



第三步，将上式所得到的结果加1：



第四步，减去1000000000:



结果就等于十进制的77.

我们把这两个数颠倒位置后再做一遍。



第一步，用11111111减去简述好，得到对1的补数：



第二步，将jain 苏对1的补数与被减数相加：



现在我们用第二步得到的结果对1求补数：



这个结果是77，而真正的档案应该是-77.


