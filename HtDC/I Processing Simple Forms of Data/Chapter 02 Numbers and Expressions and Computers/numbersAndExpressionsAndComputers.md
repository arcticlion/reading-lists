数、表达式和简单程序
====================

计算机善于进行数值处理。一旦了解计算机如何进行数值计算，只要将常识转换为程序语言符号，我们就可以设计出简单的计算机程序了。尽管如此，编写简单的程序也是需要原则的，因此本章的最后将介绍最基本的程序设计诀窍。

### 数和算数运算

在Scheme中对数进行加减乘除运算

```
(+ 5 5)    (+ -5 5)    (+ 5 -5)    (* 3 4)    (/ 8 12)
```
所有表达式都使用了括号，其中操作在前，接着以空格隔开操作数。

与算数、代数公式类似，Scheme表达式也可以嵌套使用。

```
(* (+ 2 2) (/ (* (+ 3 5) (/ 30 10)) 2))
```

由于每个表达式的形式皆为：

```
(operation A ... B)
```

除了包括常见的简单数学运算符外，Scheme还提供了一整套数学运算函数，以下是5个例子。

1. (sqrt A)计算√A
2. (expt A B)计算A的B次方
3. (remainder A B)计算整数A除以整数B的余数
4. (log A)计算A的自然对数
5. (sin A)计算弧度A的正弦值

如果怀疑一个基本运算是否存在或欲了解其使用方式，请使用简单例子在DrScheme上进行测试。

#### 关于数

当涉及实数的时候，和其他程序语言一样，Scheme在精度上做了这种考虑。例如，2的平方根是一个实数而不是一个有理数，因此Scheme不得不使用非精确数来表示它。

```
  (sqrt 2)
=#i1.4142135623731
```

其中`#i`警告程序设计者，计算结果是真正数值的一个近似表示。

造成非精确的原因是用简化的方式表示2的平方根或如发现这样的数值。实际上这些数的十进制表示是无限长的（不含循环），而在一台计算机中，数的表示长度是有限的，因此只能表示这些数的一部分。如果将这些数表示为固定长度的有理数，其结果必然是非精确的。

为了集中精力学习与计算相关的重要概念而不是拘泥于这些细节，DrScheme会尽量将数据处理为精确数。DrScheme的交互窗口显示一个如1.25或22/7这样饿数值时，它就是一个对精确的有理数韩剧哦分数进行运算的结果。

仅当一个数的前缀为`#i`时，它才是一个数的非精确表示。

### 变量和程序

在代数中，可以用含变量的表达式阐明两个数之间的关系。变量是一个未知数的占位符（placeholder）。

一般来说，一个包含变量的表达式可以被认为是一条从给定值计算另一个数值的规则。

程序也是一种规则，它不仅告诉我们也告诉计算机应如何从一些数据产生另一些数据。一个大型的程序可能包括多个以某种方式组合起来的小程序。因此程序设计者在编写程序的时候给它们的命名是非常重要的。对于计算圆满面积面积的程序，合适的名字是*area-of-disk*.

```
(define (area-of-disk r)
 (* 3.14 (* r r)))
```
上两行程序指明*area-of-disk*是一条规则，r是唯一的输入，一旦知道了r的值，程序的结果或输出就是*(* 3.14 (* r r))*.

函数一旦被定义，此后就可以如同基本函数那样被使用。对函数各右边列出的变量，我们必须提供一个输入，也就是说，我们可以编写表达式，其中操作是*area-of-disk*, 其后跟着一个数值。

```
(area-of-disk 5)
```
其意为将*area-of-disk*应用于数值5。

很多程序的输入多于一个，计算圆环（中心有一个洞的圆盘）面积的程序就是一个例子：

![](https://github.com/arcticlion/reading-lists/blob/master/HtDC/I%20Processing%20Simple%20Forms%20of%20Data/Chapter%2002%20Numbers%20and%20Expressions%20and%20Computers/屏幕快照%202014-10-01%20上午10.53.16.png)

我们知道圆盘的面积是外盘的面积减去内盘的面积，这意味该程序需要两个未知量：外盘的半径*outer*和内盘的半径*inner*,因此，计算圆环的面积的程序可以写成：

```
(define (area-of-ring outer inner)
 (- (area-of-disk outer)
    (area-of-disk inner)))
```
此3行代码表示*area-of-ring*是一个程序，该程序有两个输入，*outer*和*inner*，并且程序结果是(*area-of-ring outer*)和(*area-of-disk inner*)之差。换句话说，*area-of-ring*使用了Scheme的操作和前面已定义过的函数。

