<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" src="../lib/js/jquery.js"></script>
</head>
<body>
<form id="form">
单价：<input id="price" name="price" type="text" /><br />
数量：<input id="count" name="count" type="text" /><br />
</form>
<button id="submit">确定</button>
<button id="reset">重置</button><br />
总计：<span id="total"></span>
<div id="display"></div>
<script type="text/javascript">
$(document).ready(function(){
        var total = 0;
        $("#submit").click(function(){
            var form = $("#form").serializeArray();
            $.ajax({
                type:"post",
                url:"proc.php",
                data:form,
                error:function(){
                alert("error");
                },
                success:function(json){
                $("#display").append("单价："+json.price+",数量："+json.count+",合计："+json.sum+"<br />");
                total += json.sum;
                $("#total").text(total);
                },
                dataType:'json'
                });
            });
        $("#reset").click(function(){
            $("#price").val('');
            $("#count").val('');
            $("#total").text('');
            $("#display").text('');
            total = 0;
            });
        });
</script>
</body>
</html>
